{% extends "partials/base.html" %}

{% load static %}

{% block title %}Update_task{% endblock title %}

{% block body %}
<div class="background-text-color">
    <h1>Update Task</h1>
    <p style="font-size: 20px;text-align: center;margin-top: 300px;margin-right: 100px;"class="text-task">...dare yourself</p>
    <div class="media-icons">
        <a href="#"><i class="fab fa-facebook-f fb"></i></a>
        <a href="#"><i class="fab fa-instagram instagram"></i></a>
        <a href="#"><i class="fab fa-twitter twitter"></i></a>
    </div>
    <form action="{% url 'task_app:update_task' task.id %}" method="POST" >
            {% csrf_token %}
            <div class="form-layer">
                <div class="form-group">
                    <label for="title">Task Title:</label>
                    <input type="text" id="title" name="title" value="{{ task.title }}" required>
                    {% if form.title.errors %}
                    <ul class="error-list">
                        {% for error in form.title.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                </div>

                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description" required>{{ task.description }}</textarea>
                    {% if form.title.errors %}
                    <ul class="error-list">
                        {% for error in form.description.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                </div>

                <div class="form-group">
                    <label for="due_date">Due Date:</label>
                    <input type="datetime-local" name="due_date" required>
                    {% if form.title.errors %}
                    <ul class="error-list">
                        {% for error in form.due_date.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                </div>

                 <div class="form-group">
                    <label for="status">Status:</label>
                    <select id="status" name="status">
                        {% for value, label in status_choices.choices %}
                            <option value="{{ value }}">{{ label }}</option>
                        {% endfor %}
                    </select>
                <div class="form-group">
                    <label for="priority">Priority:</label>
                    <select id="priority" name="priority">
                        {% for value, label in priority_choices.choices %}
                            <option value="{{ value }}">{{ label }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div> 
      
    </form>
        <button type="submit" class="update-button">Update</button>
</div>    
{% endblock body %}

<script src="{% static 'js/to-do.js' %}"></script>
